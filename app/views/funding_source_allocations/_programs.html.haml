- program_id ||= grab_param(:funding_source_allocation, :program_id)
- sub_program_id ||= grab_param(:funding_source_allocation, :sub_program_id)
- unless sub_program_id.blank?
  - program_id = SubProgram.find(sub_program_id).program_id
- initiative_id ||= grab_param(:funding_source_allocation, :initiative_id)
- unless initiative_id.blank?
  - initiative = Initiative.find(initiative_id)
  - program_id = initiative.program_id
  - sub_program_id = initiative.sub_program_id
- sub_initiative_id ||= grab_param(:funding_source_allocation, :sub_initiative_id)
- unless sub_initiative_id.blank?
  - initiative = SubInitiative.find(sub_initiative_id)
  - program_id = sub_initiative.program_id
  - sub_program_id = sub_initiative.sub_program_id
  - initiative_id = sub_initiative.sub_program_id
- form.object.program_id = program_id
- form.object.sub_program_id = sub_program_id
- form.object.initiative_id = initiative_id
- form.object.sub_initiative_id = sub_initiative_id
= form.input :program_id, :as => :hidden
= form.input :sub_program_id, :as => :hidden
= form.input :initiative_id, :as => :hidden
= form.input :sub_initiative_id, :as => :hidden